<h2> Template Formulaire</h2>

<form (ngSubmit)="handleSubmit()">
  <div>
    <label> Email :</label>
    <input name="email"
           [ngModel]="user.email"
    (ngModelChange)="user.email=$event" >
  </div>
  <div>
    <label>Password :</label>
    <input name="password"
           [ngModel]="user.password"
    (ngModelChange)="user.password=$event">
  </div>
  <button type="submit">Login</button>
</form>

<p>

</p>

<h2> TypeScript Formulaire</h2>

<form (ngSubmit)="handleTypeScriptSubmit()" [formGroup]="userForm">
  <div>
    <label> Email : </label>
    <input formControlName="email"
    class="input-angular">
    <div *ngIf="userForm.get('email').hasError('email') && userForm.get('email').dirty">
      Le champ email n'est pas valide
    </div>
    <div *ngIf="userForm.get('email').hasError('required') && userForm.get('email').dirty">
      Le champ email est requis
    </div>
  </div>
  <div>
    <label> Password : </label>
    <input formControlName="password"
           class="input-angular">
  </div>
  <div *ngIf="userForm.get('password').hasError('isMyPrefix') && userForm.get('password').dirty">
    Le champ password ne commence pas par le pr√©fix n-
  </div>
  <button type="submit"> Login </button>
  <button type="reset" (click)="handleClear()"> Clear </button>
</form>

<p>

</p>
<h2>
  Validator on template formulaire
</h2>

<form (ngSubmit)="handleValidatorSubmit(userFormTemplate.value)"
      #userFormTemplate="ngForm">
  <div>
    <label>Email: </label>
    <input name="emailTemplate"
           ngModel
           required
           email
           #emailTemplate="ngModel">
    <div *ngIf="emailTemplate.dirty && emailTemplate.hasError('email')">
      Le champ email n'est pas valide
    </div>
    <div *ngIf="emailTemplate.dirty && emailTemplate.hasError('required')">
      Le champ email est requis
    </div>
    <div>
      <label>Password: </label>
      <input type="password"
             name="passwordTemplate"
             ngModel
             required
             #passwordTemplate="ngModel">
    </div>
    <button type="submit"
            [disabled]="userFormTemplate.invalid">Login
    </button>
    <button type="reset"
            (click)="handleClear()">Clear
    </button>
  </div>
</form>
